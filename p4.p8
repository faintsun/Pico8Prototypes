pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
player = {}
player.x = 56
player.y = 56
player.dx = 1
player.dy = 1
player.yacc = 6
player.jumping = false
player.build = 0
player.size = 16
player.sprite = 1

-----------------------
--  update functions --
-----------------------

function _update()
	--update_player()
	update_player2()

end

function update_player2()

	if btn(3) then
		if player.yacc < 8 then
			player.yacc += 2
		end
	end

		player.y += player.yacc
		player.yacc += 0.5
		
		

		if player.y >= 128 - player.size then
 		player.yacc = player.yacc * -1
 		player.y = 128 - player.size
 		player.jumping = false
 	end
end

function update_player()
	if btn(2) or btn(4) then
		player.build += 1
	elseif player.build > 0 and player.jumping == false then
			player.yacc = -(player.build*1.5)
			if player.yacc < -14 then
				player.yacc = -14
			end
			player.jumping = true
			player.build = 0
	end
	
	if player.jumping == true then
		player.y += player.yacc
		player.yacc += 1
		
		if player.y >= 128 - player.size then
 		player.yacc = 0
 		player.y = 128 - player.size
 		player.jumping = false
	end

	end
end

function player_jump()
	player.jumping = true
	
	-- check to see if on ground
	if player.y >= 128 - player.size then
		player.yacc = 0
		player.y = 128 - player.size
		player.jumping = false
	end

	player.y += player.yacc
	player.yacc += 0.5
end

-----------------------
-- drawing functions --
-----------------------

function _draw()
	cls()
	mapdraw(0, 0, 0, 0, 16, 16)
	
	draw_player()
end

function draw_player()
	spr(player.sprite, player.x, player.y, 2, 2)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000cccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000000cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000cccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000cccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000cccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000cccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000cccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000cccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000cccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000cccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000cccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000cccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000cccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
